
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cms-egamma.github.io/Run2/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.9">
    
    
      
        <title>Recommendations - CMS EGamma POG</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.120efc48.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#releases" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CMS EGamma POG" class="md-header__button md-logo" aria-label="CMS EGamma POG" data-md-component="logo">
      
  <img src="https://cms-docdb.cern.ch/cgi-bin/PublicDocDB/RetrieveFile?docid=3045&filename=CMSlogo_color_nolabel_1024_May2014.png&version=3" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CMS EGamma POG
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Recommendations
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CMS EGamma POG" class="md-nav__button md-logo" aria-label="CMS EGamma POG" data-md-component="logo">
      
  <img src="https://cms-docdb.cern.ch/cgi-bin/PublicDocDB/RetrieveFile?docid=3045&filename=CMSlogo_color_nolabel_1024_May2014.png&version=3" alt="logo">

    </a>
    CMS EGamma POG
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Run2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Run2" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Run2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../EgammaSFJSON/" class="md-nav__link">
        JSONs
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Recommendations
      </a>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Run3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Run3" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Run3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Run3_ID/" class="md-nav__link">
        Person Power
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../PhysicsResults/" class="md-nav__link">
        Physics Results
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Tools/" class="md-nav__link">
        Tools
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../FAQs/" class="md-nav__link">
        FAQs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://indico.cern.ch/category/1305/" class="md-nav__link">
        Attend POG Meetings
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Contact/" class="md-nav__link">
        Contact us
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<!---
-->
<h1 id="releases">Releases</h1>
<p>As far as we are aware, there is no dependence on the release used to
analyse the data, only the release and conditions used to reconstruct
that data. Running VID and scale &amp; smearing counts as analysis here. As
an example the 2016 legacy scale factors are valid for working in 80X,
94X and 102X releases. Further more, the reminiAODs do not alter the
quantities of e/gamma objects, they only add additional information.
Therefore there is no difference between running VID yourself on V1
MiniAOD or reading it directly in V2 miniAOD. So rest assured, the scale
factors for a given data (2018, 2017, 2016 Legacy) are the same no
matter what you do. Feel free to ask us for further clarification on
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#104;&#110;&#45;&#99;&#109;&#115;&#45;&#101;&#103;&#97;&#109;&#109;&#97;&#64;&#99;&#101;&#114;&#110;&#46;&#99;&#104;">&#104;&#110;&#45;&#99;&#109;&#115;&#45;&#101;&#103;&#97;&#109;&#109;&#97;&#64;&#99;&#101;&#114;&#110;&#46;&#99;&#104;</a>.</p>
<h1 id="egamma-dataformat">E/gamma DataFormat</h1>
<p>We have now use the E/gamma MiniAODV2 format which embeds all the energy
corrections and the IDs inside the pat::Electron/pat::Photon. Please see
<a href="EgammaMiniAODV2">EgammaMiniAODV2</a> for more information. We provide
tools to update the format with new IDs and energy corrections, please
see <a href="EgammaPostRecoRecipes">EgammaPostRecoRecipes</a>. This is probably the
easier way to use E/gamma objects.</p>
<h1 id="egamma-trigger">E/gamma Trigger</h1>
<h2 id="l1-prefiring">L1 Prefiring</h2>
<p>The darkening of the ECAL crystals causes the light reaching the
photodetectors to become increasingly delayed. Due to the interaction of
this effect with the trigger electronics, it is possible for a trigger
tower to be assigned to the previous bunch crossing, with the likelihood
of this happening increasing with increasing opacity of the crystal.
This effect is was not corrected for and in <strong>2016 and 2017</strong>, it is
possible for L1 ECAL trigger primatives corresponding to an object to
end up in the previous bunch crossing. As there is unlikely to be
anything in this event cababile of passing the HLT, the event is
rejected. Even worse, due to CMS trigger rules, the L1 can not fire on
two successive bunch crossings so even if there are other objects to
trigger on at L1 in the correct bunch crossing, the event is rejected.
This manifests itself as an event level trigger inefficiency and is not
included in tag\&amp;probe measurements.</p>
<p>There exists a preliminary recipe by Laurent Thomas and rest of the
pre-firing team:
<a href="%SCRIPTURL{&quot;view&quot;}%auth/CMS/L1ECALPrefiringWeightRecipe">L1ECALPrefiringWeightRecipe</a>.</p>
<p>Please be aware that the recipe is only guaranteed to work when there is
only one prefirable object (ie |η|>2.0). The recipe may work with >=1
prefirable objects but this is strongly topology dependent. In this case
you should definately check with the experts, do not blindly assume it
works for this case.</p>
<p>As this recipe is still preliminary, we &amp; the l1 pre-firing group would
greatly appreciate feedback.</p>
<h2 id="selecting-a-trigger-path">Selecting a Trigger Path</h2>
<p>The twiki <a href="EgHLTRunIISummary">EgHLTRunIISummary</a> gives a complete
listing of all E/gamma triggers (including cross triggers) for 2016,
2017 and 2018. It also gives some basic suggestions for the typical uses
cases for electrons. The detailed selection of each trigger is
summarised in <a href="EgHLTPathDetails">EgHLTPathDetails</a> (its a large twiki,
can take a while to load).</p>
<h2 id="hlt-zvtx-scale-factor">HLT Z<sub>vtx</sub> Scale Factor</h2>
<ul>
<li>there is an allowed Z region for an electron to be in the HLT which
    is obtained by the online beamspot. There were problems in the
    begining of 2017, which means that the z region was too small and
    efficiency suffered. This can not be determined with Z->ee tag &amp;
    probe as the tag &amp; probe have the same zvtx. Care must be taken with
    e-mu tag and probe as this will include it as the muon triggers were
    not as effected<ul>
<li>for more details, please see <a href="https://indico.cern.ch/event/697573/contributions/2887077/attachments/1596611/2530584/hltZVtxInefficiency.pdf">this talk from the 07/02/18 EGM
    Meeting</a></li>
</ul>
</li>
<li>the MC efficiency is one so the efficiency of the online Z region
    cut in the HLT and the scale factor for MC are identical</li>
<li>events selected using electron triggers which use pixel matching
    require an additional scale factor. As it is event level, it should
    be applied only once per event, no matter how many electrons were
    required to be triggered</li>
<li>this only needs to be applied in 2017, 2016 &amp; 2018 are fine</li>
<li>these numbers are considered final by E/gamma (and are unchanged
    since last year)<ul>
<li>the 2018 number measured to be > 0.99976 and is taken to be 1.0
    as a 0.02% inefficiency dwarfed by other efficiency systematics</li>
</ul>
</li>
</ul>
<p>| <strong>Era</strong> | 2016 | 2017B | 2017C | 2017DEF | 2017BCDEF | 2018 | | <strong>SF</strong>
| 1.0±0.0 | 0.934±0.005 | 0.992±0.001 | 1.000 | 0.991±0.001 | 1.0±0.0 |</p>
<h1 id="egamma-reco">E/gamma RECO</h1>
<h2 id="photon-scale-factors">Photon Scale Factors</h2>
<p>The scale factor to reconstruct a supercluster with H/E\&lt;0.5 is assumed
to be 100%</p>
<h2 id="electron-scale-factors">Electron Scale Factors</h2>
<p>This is the scale factor to get a GsfTrack once you have a supercluster
with H/E\&lt;0.5.</p>
<ul>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/RECO/passingRECO/egammaEffi.txt_EGM2D.root">2016 prompt
    .root</a><ul>
<li>here they are flat vs pt</li>
<li>below GeV and above >80 GeV the systematic is increased by 1%</li>
</ul>
</li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/EGM2D_BtoH_low_RecoSF_Legacy2016.root">2016 legacy, E<sub>T</sub> \&lt; 20 GeV
    .root</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/EGM2D_BtoH_GT20GeV_RecoSF_Legacy2016.root">2016 legacy, E<sub>T</sub> > 20 GeV
    .root</a><ul>
<li><a href="https://indico.cern.ch/event/662761/contributions/2993714/attachments/1644305/2627487/0504_RECOSFs.pdf">https://indico.cern.ch/event/662761/contributions/2993714/attachments/1644305/2627487/0504_RECOSFs.pdf</a></li>
<li><a href="https://indico.cern.ch/event/697080/contributions/2986493/attachments/1641173/2621057/0427_RECOSFs.pdf">https://indico.cern.ch/event/697080/contributions/2986493/attachments/1641173/2621057/0427_RECOSFs.pdf</a></li>
</ul>
</li>
</ul>
<!-- end list -->

<ul>
<li><a href="%PUBURL%/CMS/Egamma2017DataRecommendations/egammaEffi.txt_EGM2D_runBCDEF_passingRECO_lowEt.root">2017, E<sub>T</sub> \&lt; 20 GeV
    .root</a></li>
<li><a href="%PUBURL%/CMS/Egamma2017DataRecommendations/egammaEffi.txt_EGM2D_runBCDEF_passingRECO.root">2017, E<sub>T</sub> > 20 GeV
    .root</a><ul>
<li>Link to the presentation for 2017 Rereco SFs:
    <a href="https://indico.cern.ch/event/695160/contributions/2893558/attachments/1598949/2534169/0212_RECOSFs_update.pdf">https://indico.cern.ch/event/695160/contributions/2893558/attachments/1598949/2534169/0212_RECOSFs_update.pdf</a></li>
<li><a href="https://indico.cern.ch/event/697573/contributions/2887072/attachments/1596519/2529058/0207_RECOSFs.pdf">https://indico.cern.ch/event/697573/contributions/2887072/attachments/1596519/2529058/0207_RECOSFs.pdf</a></li>
</ul>
</li>
</ul>
<!-- end list -->

<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/egammaEffi.txt_EGM2D_updatedAll.root">2018
    .root</a><ul>
<li>note this has been slightly updated w.r.t to the old scale
    factor split into two bins, however the numbers are compatible
    with each other and no major change expected. Link to the
    presentation:
    <a href="https://indico.cern.ch/event/794628/contributions/3303043/attachments/1791305/2923400/RECOSFs_0208_update.pdf">https://indico.cern.ch/event/794628/contributions/3303043/attachments/1791305/2923400/RECOSFs_0208_update.pdf</a></li>
</ul>
</li>
</ul>
<h1 id="egamma-ids">E/gamma IDs</h1>
<p>E/gamma maintains several IDs, both cut based and MVA. In terms of cut
based, there is also the HEEP (high energy) ID which aimed to be a
simple straighforward ID that is safe for high energy electrons. The
HEEP ID for historical reasons operates on a different versioning than
other cut based IDs. All these IDs are accessible as part of the
pat::Electron/pat::Photon however depending on the miniAOD version you
run over, you may need to run EgammaPostReco tools to embed it first. It
is important to note due to the way our ID framework functions, if you
find an ID in the pat::Electron/pat::Photon with the requested name,
that ID will be the correct. So if you find the ID you are looking for,
you should not worry that its an out of date version.</p>
<p>More information can be found at
<a href="EgammaIDRecipesRun2">EgammaIDRecipesRun2</a></p>
<h2 id="example-accessing-ids">Example accessing IDs</h2>
<p>We recommend using the E/gamma miniAOD V2 format which embeds all the
IDs in the pat::Electron,pat::Photon which means if you know the name of
the ID, you can access it straightforwardly like:</p>
<pre><code>pat::Electron::electronID("cutBasedElectronID-Fall17-94X-V1-tight")==true //passes Fall17 V1 tight
pat::Photon::photonID("cutBasedPhotonID-Fall17-94X-V1-tight")==true //passes Fall17 V1 tight
</code></pre>
<p>We try to have our IDs in a release so no PR is necessary. However for
the latest and greatest ID, there will be a period of time where the ID
has to be merged in via a PR. For each ID, the first CMSSW release where
the ID is included is indidicated as "release availiblity". The miniAOD
which has this ID embedded is also noted as "miniAOD availiblity".</p>
<h2 id="electrons-ids">Electrons IDs:</h2>
<h3 id="spring16-mva-summer16-cut-based">Spring16 (mva) &amp; Summer16 (cut based)</h3>
<ul>
<li>summary: tunned on 80X spring16/summer16 MC and prompt data</li>
<li>release availiblity: CMSSW_9_4_0, CMSSW_10_2_0</li>
<li>miniAOD availiblity: 2016 v3 miniAOD, 2017 v2 miniAOD, 2018 v1
    miniAOD</li>
<li>recommended for: 2016 (prompt and legacy)</li>
<li>scale factors 2016 prompt:<ul>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/EleID/passingVeto80X/egammaEffi.txt_EGM2D.root">cutBasedElectronID-Summer16-80X-V1-veto</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/EleID/passingLoose80X/egammaEffi.txt_EGM2D.root">cutBasedElectronID-Summer16-80X-V1-loose</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/EleID/passingMedium80X/egammaEffi.txt_EGM2D.root">cutBasedElectronID-Summer16-80X-V1-medium</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/EleID/passingTight80X/egammaEffi.txt_EGM2D.root">cutBasedElectronID-Summer16-80X-V1-tight</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/EleID/passingMVA80Xwp80/egammaEffi.txt_EGM2D.root">mvaEleID-Spring16-GeneralPurpose-V1-wp80</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/EleID/passingMVA80Xwp90/egammaEffi.txt_EGM2D.root">mvaEleID-Spring16-GeneralPurpose-V1-wp90</a></li>
</ul>
</li>
<li>scale factors 2016 legacy:<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronLoose.root">cutBasedElectronID-Summer16-80X-V1-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMedium.root">cutBasedElectronID-Summer16-80X-V1-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronTight.root">cutBasedElectronID-Summer16-80X-V1-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMVAwp80.root">mvaEleID-Spring16-GeneralPurpose-V1-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMVAwp90.root">mvaEleID-Spring16-GeneralPurpose-V1-wp90</a></li>
</ul>
</li>
</ul>
<h3 id="fall17v1">Fall17v1</h3>
<ul>
<li>summary: ID was tuned on 92X MC, 2017 data and was made availible
    for Moriond2018 Analyises</li>
<li>release availiblity: CMSSW_9_4_9, CMSSW_10_2_0</li>
<li>miniAOD availiblity: 2016 v3 miniAOD, 2017 v2 miniAOD, 2018 v1
    miniAOD</li>
<li>recommended for: 2017<ul>
<li>note we would suggest you use the Fall17v2 IDs as they give
    better signal vs background seperation but its fine to use these
    for 2017 if you prefer. You could also use them for 2018 but we
    would really prefer you use the Fall17v2. We do not plan to
    provide scale factors for these IDs for 2018 though so if you do
    have a good reason to use them, come talk to us.</li>
</ul>
</li>
<li>scale factors 2017:<ul>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/egammaEffi.txt_EGM2D_runBCDEF_passingLoose94X.root">cutBasedElectronID-Fall17-94X-V1-loose</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/egammaEffi.txt_EGM2D_runBCDEF_passingMedium94X.root">cutBasedElectronID-Fall17-94X-V1-medium</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/egammaEffi.txt_EGM2D_runBCDEF_passingTight94X.root">cutBasedElectronID-Fall17-94X-V1-tight</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/egammaEffi.txt_EGM2D_runBCDEF_passingVeto94X.root">cutBasedElectronID-Fall17-94X-V1-veto</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/gammaEffi.txt_EGM2D_runBCDEF_passingMVA94Xwp80iso.root">mvaEleID-Fall17-iso-V1-wp80</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/gammaEffi.txt_EGM2D_runBCDEF_passingMVA94Xwp80noiso.root">mvaEleID-Fall17-noIso-V1-wp80</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/gammaEffi.txt_EGM2D_runBCDEF_passingMVA94Xwp90iso.root">mvaEleID-Fall17-iso-V1-wp90</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Electrons/gammaEffi.txt_EGM2D_runBCDEF_passingMVA94Xwp90noiso.root">mvaEleID-Fall17-noIso-V1-wp90</a></li>
</ul>
</li>
</ul>
<h3 id="fall17v2">Fall17v2</h3>
<ul>
<li>summary: ID was tuned on 94X MC, 2017 data and offers improvements
    on the Fall17v1 IDs</li>
<li>release availiblity: CMSSW_10_2_0<ul>
<li>PRs: cms-egamma:EgammaID_949 (for 94X >= 949)</li>
</ul>
</li>
<li>miniAOD availiblity: 2018 v1 miniAOD</li>
<li>recommended for: 2016, 2017, 2018<ul>
<li>we consider these the best possible IDs right now with the best
    signal</li>
<li>can use for 2016 if you want to use a consistent ID for all
    years</li>
</ul>
</li>
<li>scale factors 2016 (legacy):<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronLoose_Fall17V2.root">cutBasedElectronID-Fall17-94X-V2-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMedium_Fall17V2.root">cutBasedElectronID-Fall17-94X-V2-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronTight_Fall17V2.root">cutBasedElectronID-Fall17-94X-V2-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMVA80_Fall17V2.root">mvaEleID-Fall17-iso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMVA90_Fall17V2.root">mvaEleID-Fall17-iso-V2-wp90</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMVA80noiso_Fall17V2.root">mvaEleID-Fall17-noIso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_ElectronMVA90noiso_Fall17V2.root">mvaEleID-Fall17-noIso-V2-wp90</a></li>
</ul>
</li>
<li>scale factors 2017:<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_ElectronLoose.root">cutBasedElectronID-Fall17-94X-V2-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_ElectronMedium.root">cutBasedElectronID-Fall17-94X-V2-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_ElectronTight.root">cutBasedElectronID-Fall17-94X-V2-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_ElectronMVA80.root">mvaEleID-Fall17-iso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_ElectronMVA90.root">mvaEleID-Fall17-iso-V2-wp90</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_ElectronMVA80noiso.root">mvaEleID-Fall17-noIso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_ElectronMVA90noiso.root">mvaEleID-Fall17-noIso-V2-wp90</a></li>
</ul>
</li>
<li>scales factors 2018:<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_ElectronLoose.root">cutBasedElectronID-Fall17-94X-V2-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_ElectronMedium.root">cutBasedElectronID-Fall17-94X-V2-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_ElectronTight.root">cutBasedElectronID-Fall17-94X-V2-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_ElectronMVA80.root">mvaEleID-Fall17-iso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_ElectronMVA90.root">mvaEleID-Fall17-iso-V2-wp90</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_ElectronMVA80noiso.root">mvaEleID-Fall17-noIso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_ElectronMVA90noiso.root">mvaEleID-Fall17-noIso-V2-wp90</a></li>
</ul>
</li>
</ul>
<h3 id="heepv70">HEEPV7.0</h3>
<ul>
<li>summary: a simple robust ID designed to be safe for high electrons.
    The Et evolution of this ID must be well described in the MC
    therefore this ID is designed so its scale factor is flat vs Et. As
    a result the HEEP differs in that it provides just a single number
    for the barrel and a single number for the endcap.</li>
<li>release availibity: CMSSW_9_4_0, CMSSW_10_2_0</li>
<li>miniAOD availiblity: 2016 v3 miniAOD, 2017 v2 miniAOD, 2018 v1
    miniAOD</li>
<li>recommended for: 2016 (prompt and legacy), 2017</li>
<li>scale factors:<ul>
<li>2016 prompt: 0.971±0.001 (stat) (EB), 0.983±0.001 (stat) (EE)<ul>
<li>uncertainty: EB E<sub>T</sub> \&lt; 90 GeV: 1% else
    min(1+(E<sub>T</sub>-90)*0.0022)%,3%)</li>
<li>uncertainty: EE E<sub>T</sub> \&lt; 90 GeV: 1% else
    min(1+(E<sub>T</sub>-90)*0.0143)%,4%)</li>
</ul>
</li>
<li>2016 legacy: take from slide 10 of
    <a href="https://indico.cern.ch/event/831669/contributions/3485543/attachments/1871797/3084930/ApprovalSlides_EE_v3.pdf">https://indico.cern.ch/event/831669/contributions/3485543/attachments/1871797/3084930/ApprovalSlides_EE_v3.pdf</a></li>
<li>2017 prompt: 0.967±0.001 (stat) (EB), 0.973±0.002 (stat) (EE)<ul>
<li>uncertainty: EB E<sub>T</sub> \&lt; 90 GeV: 1% else
    min(1+(E<sub>T</sub>-90)*0.0022)%,3%)</li>
<li>uncertainty: EE E<sub>T</sub> \&lt; 90 GeV: 2% else
    min(1+(E<sub>T</sub>-90)*0.0143)%,5%)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="heepv70-2018prompt">HEEPv7.0-2018Prompt</h3>
<p>There was a retune of HEEPv7.0 ID for 2018 due to HCAL data/MC
disagreements. The cuts in EB remain same as HEEPv7.0, but there were
some changes in cuts in EE. The H/E cut and EM+Had_depth1 isolation cut
changed in 2018 for EE only.</p>
<p>For more details, see</p>
<p>1) Decicated study by W. Fang etc al.
<a href="https://indico.cern.ch/event/787315/contributions/3434898/attachments/1847223/3031172/HEEP_2019_0517_v3.pdf">https://indico.cern.ch/event/787315/contributions/3434898/attachments/1847223/3031172/HEEP_2019_0517_v3.pdf</a>
. In slide 16, the choice 2 was considered the final choice, and was
used in Z'->EE search.</p>
<p>2) Z'->EE approval talk
<a href="https://indico.cern.ch/event/831669/contributions/3485543/attachments/1871797/3084930/ApprovalSlides_EE_v3.pdf">https://indico.cern.ch/event/831669/contributions/3485543/attachments/1871797/3084930/ApprovalSlides_EE_v3.pdf</a></p>
<p>This ID is not centrally available in
<a href="https://github.com/cms-sw/cmssw/tree/CMSSW_10_2_X/RecoEgamma/ElectronIdentification/python/Identification">https://github.com/cms-sw/cmssw/tree/CMSSW_10_2_X/RecoEgamma/ElectronIdentification/python/Identification</a>
, which means that users need to manually apply this ID. Users can make
use of individual cuts as described here
<a href="CutBasedElectronIdentificationRun2#Applying_Individual_Cuts_of_a_Se">https://twiki.cern.ch/twiki/bin/view/CMS/CutBasedElectronIdentificationRun2#Applying_Individual_Cuts_of_a_Se</a>
, so that the other cuts that did not change in 2018 can still be used
from centrally available VID.</p>
<ul>
<li>For 2018 rereco (Autumn 18) the SF are the following, 0.969 +/-
    0.000 (stat) (EB), and 0.984 +/- 0.001 (stat) (EE). The systematic
    uncertainty is same as 2017 prompt, as indicated in slide 15 of
    Z'->EE approval presentation, linked above. So, the following
    should be used</li>
<li>uncertainty: EB E\&lt;sub style="background-color:
    transparent;">T</sub> \&lt; 90 GeV: 1% else min(1+(E\&lt;sub
    style="background-color: transparent;">T</sub>-90)*0.0022)%,3%)</li>
<li>uncertainty: EE E\&lt;sub style="background-color:
    transparent;">T</sub> \&lt; 90 GeV: 2% else min(1+(E\&lt;sub
    style="background-color: transparent;">T</sub>-90)*0.0143)%,5%)</li>
<li>For more details see here
    <a href="HEEPElectronIdentificationRun2#Scale_Factor">https://twiki.cern.ch/twiki/bin/view/CMS/HEEPElectronIdentificationRun2#Scale_Factor</a>.
    As always, HEEP ID SF are just two numbers, one for EB and one for
    EE.</li>
</ul>
<h2 id="photon-ids">Photon IDs:</h2>
<p>If you are using any of our photon IDs for high pT (>200 GeV) photons,
then read this twiki for detailed EGM recommendations:
<a href="EGMPhotonIDHighPtPhotons">https://twiki.cern.ch/twiki/bin/view/CMS/EGMPhotonIDHighPtPhotons</a></p>
<h3 id="spring16">Spring16</h3>
<ul>
<li>summary: tunned on 80X spring16 MC and prompt data</li>
<li>release availiblity: CMSSW_9_4_0, CMSSW_10_2_0</li>
<li>miniAOD availiblity: 2016 v3 miniAOD, 2017 v2 miniAOD, 2018 v1
    miniAOD</li>
<li>recommended for: 2016 (prompt and legacy)</li>
<li>scale factors 2016 prompt:<ul>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/PhoID/Loose80X/egammaEffi.txt_EGM2D.root">cutBasedPhotonID-Spring16-V2p2-loose</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/PhoID/Medium80X/egammaEffi.txt_EGM2D.root">cutBasedPhotonID-Spring16-V2p2-medium</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/PhoID/Tight80X/egammaEffi.txt_EGM2D.root">cutBasedPhotonID-Spring16-V2p2-tight</a></li>
<li><a href="http://fcouderc.web.cern.ch/fcouderc/EGamma/scaleFactors/Moriond17/approval/PhoID/MVA80Xwp90/egammaEffi.txt_EGM2D.root">mvaPhoID-Spring16-nonTrig-V1-wp90</a></li>
</ul>
</li>
</ul>
<!-- end list -->

<ul>
<li>scale factors 2016 legacy:<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_PhotonCutBasedLoose.root">cutBasedPhotonID-Spring16-V2p2-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_PhotonCutBasedMedium.root">cutBasedPhotonID-Spring16-V2p2-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_PhotonCutBasedTight.root">cutBasedPhotonID-Spring16-V2p2-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_PhotonMVAWP80.root">mvaPhoID-Spring16-nonTrig-V1-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2016LegacyReReco_PhotonMVAWP90.root">mvaPhoID-Spring16-nonTrig-V1-wp90</a></li>
</ul>
</li>
</ul>
<h3 id="fall17v1_1">Fall17v1</h3>
<ul>
<li>summary: ID was tuned on 92X MC, 2017 data and was made availible
    for Moriond2018 Analyises</li>
<li>release availiblity: CMSSW_9_4_9, CMSSW_10_2_0</li>
<li>miniAOD availiblity: 2016 v3 miniAOD, 2017 v2 miniAOD, 2018 v1
    miniAOD</li>
<li>recommended for: 2017<ul>
<li>note we would suggest you use the Fall17v2 IDs as they give
    better signal vs background seperation but its fine to use these
    for 2017 if you prefer. You could also use them for 2018 but we
    would really prefer you use the Fall17v2. We do not plan to
    provide scale factors for these IDs for 2018 though so if you do
    have a good reason to use them, come talk to us.</li>
</ul>
</li>
<li>scale factors 2017:<ul>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Photons/egammaEffi.txt_EGM2D_runBCDEF_passingLoose94X.root">cutBasedPhotonID-Fall17-94X-V1-loose</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Photons/egammaEffi.txt_EGM2D_runBCDEF_passingMedium94X.root">cutBasedPhotonID-Fall17-94X-V1-medium</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Photons/egammaEffi.txt_EGM2D_runBCDEF_passingTight94X.root">cutBasedPhotonID-Fall17-94X-V1-tight</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Photons/egammaEffi.txt_EGM2D_runBCDEF_passingMVA94Xwp80.root">mvaPhoID-RunIIFall17-v1p1-wp80</a></li>
<li><a href="https://soffi.web.cern.ch/soffi/EGM-ID/SF-17Nov2017-MCv2-IDv1-020618/Photons/egammaEffi.txt_EGM2D_runBCDEF_passingMVA94Xwp90.root">mvaPhoID-RunIIFall17-v1p1-wp90</a></li>
</ul>
</li>
</ul>
<h3 id="fall17v2_1">Fall17v2</h3>
<ul>
<li>summary: ID was tuned on 94X MC, 2017 data and offers improvements
    on the Fall17v1 IDs</li>
<li>release availiblity: CMSSW_10_2_10 (which is not out yet)</li>
<li>miniAOD availiblity: none<ul>
<li>PRs: cms-egamma:EgammaID_949 (for 94X >= 949)<ul>
<li>currently RECO has decided not to allow backport to the
    official CMSSW <a href="https://github.com/cms-sw/cmssw/pull/25408">due to release stability
    concerns</a></li>
</ul>
</li>
<li>PRs: cms-egamma:EgammaID_1023 (for 102X >= 1023)<ul>
<li>currently merged in CMSSW_10_2_X and should be in
    CMSSW_10_2_10 when availible</li>
</ul>
</li>
</ul>
</li>
<li>recommended for: 2016, 2017, 2018<ul>
<li>we consider these the best possible IDs right now with the best
    signal</li>
<li>its a bit marginal gains for 2016 over the 2016 ID so we mainly
    recommend it out of consistency</li>
</ul>
</li>
<li>scale factors 2016:<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/Fall17V2_2016_Loose_photons.root">cutBasedPhotonID-Fall17-94X-V2-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/Fall17V2_2016_Medium_photons.root">cutBasedPhotonID-Fall17-94X-V2-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/Fall17V2_2016_Tight_photons.root">cutBasedPhotonID-Fall17-94X-V2-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/Fall17V2_2016_MVAwp80_photons.root">mvaPhoID-Fall17-iso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/Fall17V2_2016_MVAwp90_photons.root">mvaPhoID-Fall17-iso-V2-wp90</a></li>
</ul>
</li>
<li>scale factors 2017:<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_PhotonsLoose.root">cutBasedPhotonID-Fall17-94X-V2-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_PhotonsMedium.root">cutBasedPhotonID-Fall17-94X-V2-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_PhotonsTight.root">cutBasedPhotonID-Fall17-94X-V2-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_PhotonsMVAwp80.root">mvaPhoID-Fall17-iso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2017_PhotonsMVAwp90.root">mvaPhoID-Fall17-iso-V2-wp90</a></li>
</ul>
</li>
<li>scale factors 2018:<ul>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_PhotonsLoose.root">cutBasedPhotonID-Fall17-94X-V2-loose</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_PhotonsMedium.root">cutBasedPhotonID-Fall17-94X-V2-medium</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_PhotonsTight.root">cutBasedPhotonID-Fall17-94X-V2-tight</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_PhotonsMVAwp80.root">mvaPhoID-Fall17-iso-V2-wp80</a></li>
<li><a href="%PUBURL%/CMS/EgammaIDRecipesRun2/2018_PhotonsMVAwp90.root">mvaPhoID-Fall17-iso-V2-wp90</a></li>
</ul>
</li>
</ul>
<h1 id="egamma-energy-corrections">E/gamma Energy Corrections</h1>
<h2 id="electron-and-photon-energy-regression-corrections">Electron and Photon Energy Regression Corrections</h2>
<p>The electron and photon energy corrections are applied by default to the
object. 2016Legacy &amp; Prompt uses the V1 or "74X" regression while 2017
and 2018 use a modified version of the V2 or "80X" regression. This
modification is that the high pt ecal training is only used for
saturated electrons and photons.</p>
<h2 id="residual-scale-smearing-corrections">Residual Scale &amp; Smearing Corrections</h2>
<p>The data / MC energy rescale and resolution have a small residual miss
match. Therefore we scale the data to the MC and the smear the MC to
match the data resolution. This is known as scale &amp; smearing
corrections. The scale and smear corrected energy can be accessed inside
the miniAOD object via
pat::Electron::userFloat('ecalTrkEnergyPostCorr"),
pat::Photon::userFloat('ecalEnergyPostCorr'). Some analyses use the ECAL
only energy of electrons and therefore use
pat::Electron::userFloat('ecalEnergyPostCorr'). Currently, these final
corrections are only availible for 2016 and 2017, although preliminary
ones are now availible <a href="EgammaMiniAODV2#2018_Preliminary_Energy_Correcti">2018 Preliminary Energy
Correction</a></p>
<p>To access the scale and smearings please see
<a href="EgammaMiniAODV2#Energy_Scale_and_Smearing">EgammaMiniAODV2#Energy_Scale_and_Smearing</a></p>
<h1 id="recommendations-on-combining-systematics-between-years">Recommendations on Combining Systematics between years</h1>
<p>What follows are some simple recommendations on correlating the
systematics between the years which we feel are a resonable starting
point. The method for deciding the correlation depends on whether the
quantity is measured in its kinematic phase space or extrapolated its
kinematic phase space. The systematic uncertainty of a measured value is
dominated by biases associated with the measurement method. As long as
the method remains the same, we can reasonably assume that the method
bias will be the same each year. The systematic uncertainty of an
extrapolated value is dominated by the modelling of that extrapolation
by the Monte Carlo simulation and can change between years if new cuts,
new variables or new detectors are introduced. We absolutely encourage
feedback here and will update the recommendations based on this.</p>
<ul>
<li>trigger efficiency:<ul>
<li>uncertainties are negligible w.r.t to reco &amp; ID unless there are
    bugs</li>
</ul>
</li>
<li>RECO efficiency:<ul>
<li>uncertainties are correlated between the years as they are
    measured with the same method</li>
<li>due to the larger backgrounds, we assume the RECO uncertainties
    are uncorrelated w.r.t to the ID uncertainties</li>
</ul>
</li>
<li>ID efficiency<ul>
<li>20 to 200 GeV (near the Z peak): small stat errors, systematics
    dominate. This is a measurement and given the method doesnt
    change, its 100% correlated between the years</li>
<li>>200 GeV: extrapolation based on confidence of the Monte Carlo
    simulation capturing the energy evolution of the ID variables<ul>
<li>we decided 100% correlated between 2016 &amp; 2017. A 50 GeV
    electron looks a lot like a 1 TeV electron pixel wise so any
    differences are already accounted for. Any energy
    disagrement would come from something else which is constant
    between the two years</li>
<li>it is yet unclear if 2018 is correlated or uncorrelated due
    to the HCAL endcap upgrade<ul>
<li><span class="twiki-macro RED"></span> UPDATE as of 14th
    Dec, 2020: Since most of the variables are ECAL related,
    we suggest to treat the ID systematics correlated
    between all the years unless there are strong points
    against it. <span class="twiki-macro ENDCOLOR"></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- end list -->

<ul>
<li>conversion safe electron veto:<ul>
<li>as this is arguably an extrapolation, we uncorrelate 2016, 2017
    and 2018 due to the different pixel detector / pixel running
    conditions between the years</li>
</ul>
</li>
<li>energy scale:<ul>
<li>the errors are: stat, systematic, gain</li>
<li>stat: neglibible and can be ignored</li>
<li>syst: a measurement, correlated between the years</li>
<li>gain: the error on the gain category mostly coming from the
    statistics of each gain category electrons and therefore it can
    be taken to be uncorrelated between the years. Really only
    important for gain1 which are our highest energy electrons. Also
    helps that 2016 and 2017 have different energy regressions which
    may be modelled differently in MC so they really should be
    uncorrelated.</li>
</ul>
</li>
<li>energy resolution:<ul>
<li>the errors are correlated between the years as they are a
    measurement and the same method is used in all years</li>
</ul>
</li>
</ul>
<h1 id="summary-of-available-egamma-pog-ntuples">Summary of available Egamma POG ntuples</h1>
<table>
<thead>
<tr>
<th align="left">2016</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Rereco version: /*/Run2016*17Jul2018<strong>/</strong> (legacy rereco)</td>
</tr>
<tr>
<td align="left">MC samples: /*/*RunIISummer16MiniAODv3<strong>/</strong></td>
</tr>
<tr>
<td align="left">egamma ntuples: /eos/cms/store/group/phys_egamma/soffi/TnP/ntuples_04162018-Legacy2016</td>
</tr>
<tr>
<td align="left">Regression: PF/SC/Egamma 74X /74X/74X trained</td>
</tr>
<tr>
<td align="left">Scale and smearing: embedded in MiniAOD V2</td>
</tr>
<tr>
<td align="left">JSON: Cert_271036-284044_13TeV_23Sep2016ReReco_Collisions16_JSON.txt</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th align="left">2017</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Rereco version: /*/Run2017*31Mar2018<strong>/</strong></td>
</tr>
<tr>
<td align="left">MC samples: /*/*12Apr2018<strong>/</strong></td>
</tr>
<tr>
<td align="left">egamma ntuples: /eos/cms/store/group/phys_egamma/soffi/TnP/ntuples_01162018/Moriond18_V1</td>
</tr>
<tr>
<td align="left">egamma ntuples with same tag but additional variables: /eos/cms/store/group/phys_egamma/micheli/TnP/ntuples_2017_20181116</td>
</tr>
<tr>
<td align="left">Regression: PF/SC/Egamma 94X /74X/80X trained</td>
</tr>
<tr>
<td align="left">Scale and smearing: embedded in MiniAOD V2</td>
</tr>
<tr>
<td align="left">JSON: Cert_294927-306462_13TeV_PromptReco_Collisions17_JSON.txt</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th align="left">2018</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Rereco version: /<strong>/17Sep2018 (for A-C), promptReco (for D)/</strong></td>
</tr>
<tr>
<td align="left">MC samples: /*/*RunIIAutumn18DRPremix -102X_upgrade2018_realistic<strong>/</strong></td>
</tr>
<tr>
<td align="left">egamma ntuples:/eos/cms/store/group/phys_egamma/swmukher/NtupleForRecoSF/Rereco2018Data_Autumn18MC_AOD</td>
</tr>
<tr>
<td align="left">Regression: PF/SC/Egamma 74X /74X/74X trained</td>
</tr>
<tr>
<td align="left">Scale and smearing: embedded in MiniAOD V2</td>
</tr>
<tr>
<td align="left">JSON: Cert_314472-325175_13TeV_PromptReco_Collisions18_JSON.txt</td>
</tr>
</tbody>
</table>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../EgammaSFJSON/" class="md-footer__link md-footer__link--prev" aria-label="Previous: JSONs" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              JSONs
            </div>
          </div>
        </a>
      
      
        
        <a href="../Run3_ID/" class="md-footer__link md-footer__link--next" aria-label="Next: Person Power" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Person Power
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6e54b5cd.min.js"></script>
      
    
  </body>
</html>